@model Inafocam.Web.Areas.SeguimientoDeUniversidades.Models.DesarrolloDelPlanDeEstudioModel
@inject Inafocam.core.Interfaces.ITeacherEducation IteacherEducation
@{ ViewData["Title"] = "Create";

    MensajesViewModel mensaje = new MensajesViewModel();

    if (TempData["mensaje"] != null)
    {

        mensaje = TempData.Get<MensajesViewModel>("mensaje");

    }

    var index = 0;}

@section Style
{
    <link href="~/app-assets/vendors/noUiSlider/nouislider.css" rel="stylesheet" />
    <link href="~/app-assets/css/custom/custom.css" rel="stylesheet" />
    <link href="~/lib/toastr.js/toastr.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />
}


@* BREADCRUMB *@
@await Component.InvokeAsync("BreadcrumbComponent", new
{
    area = (string)ViewData["area"],
    controlador = (string)ViewData["controlador"],
    controller = (string)ViewData["controller"],
    vista = (string)ViewData["vista"]

})
@* END BREADCRUMB *@






<div class="row">

    <div class="card">
        <div class="card-content">



            <h4 class="card-title">Desarrollo del Plan de Estudio</h4>
            <div class="divider"></div>


            @foreach (var item in Model.TracingStudyPlanDevelopmentList)
            {
                <ul class="collapsible collapsible-accordion">
                    <li>
                        <div class="collapsible-header" style="background-color:#eeeeee ">@item.SubjectMatter.SubjectMatterCode - @item.SubjectMatter.SubjectMatterName</div>
                        <div class="collapsible-body">
                            <div class="row">

                                <div class="">
                                    <form class="col s12 formValidate" method="post" >

                                        @*<input type="hidden" asp-for="UniversityId" />
                                    <input type="hidden" asp-for="CreationDate" />*@

                                        @*<input type="hidden" asp-for="Com" />*@

                                        @* Detalles del programa*@
                                        <div>
                                            <span asp-validation-sumary=""></span>
                                        </div>

                                        <div class="card">
                                            <div class="card-content">



                                                <h4 class="card-title">	</h4>


                                                <div class="row ">


                                                    <div class="input-field col s12 m6 l3">


                                                        @*<i class="material-icons prefix">contacts</i>*@
                                                     
                                                        <input asp-for="@item.SubjectMatter.SubjectMatterCode" id="codigodeasignatura" type="text" class="validat black-text" readonly disabled>

                                                        <label for="codigodeasignatura">Código Asignatura</label>
                                                    </div>

                                                    <div class="input-field col s12 m6 l3">
                                                        <input asp-for="@item.SubjectMatter.SubjectMatterName" id="asignaturaimpartida" type="text" class="validat black-text" readonly disabled>

                                                        <label for="asignaturaimpartida">Asignatura Impartida</label>

                                                    </div>


                                                    <div class="input-field col s12 m6 l3">

                                                        <input  id="creditos" type="text" class="validat black-text" readonly disabled>

                                                        <label for="creditos">Créditos</label>


                                                    </div>


                                                    <div class="input-field col s12 m6 l3">

                                                        <input id="StartDate" type="text" class="validat black-text" readonly disabled>

                                                        <label for="StartDate">Periodo académico en que se impartió</label>


                                                    </div>

                                                </div>


                                                @*Docente que la  impartió*@
                                                <div class="row">
                                                    <div class="input-field col s12 m6 l3">

                                                        <div class="row">
                                                            <label for="select2User" class="col s12">Docente que la  impartió</label>
                                                        </div>

                                                        @{ 
                                                           var numero = index++;
                                                        }
                                                        <select   class="form-control js-example-basic-single " style="width: 100%" asp-items="ViewBag.Teacher">
                                                            <option value="" disabled selected></option>
                                                        </select>


                                                    </div>

                                                    @{ 
                                                        


                                                    }

                                                    @*<div class="input-field col s12 m6 l3">
                                                        <div class="row">
                                                            <label for="select2User" class="col s12">Títulación del perfil por el cual hizo la asignación</label>
                                                        </div>
                                                        <select id="HigherTitleSupportMatterId" class="form-control js-example-basic-single" style="width: 100%" asp-items="@(new SelectList(IteacherEducation.GetAllByTeacherId(1),"TeacherEducationId","TeacherEducationTitle"))">
                                                            <option  value="" disabled selected></option>
                                                        </select>
                                                    </div>*@

                                                    <div class="input-field col s12 m6 l3">

                                                        <input asp-for="@item.ScoreAverageStudents" id="" type="text" class="validat black-text" readonly disabled>

                                                        <label for="">Promedio de calificación del total de estudiantes</label>


                                                    </div>

                                                    <div class="input-field col s12 m6 l3">

                                                        <input asp-for="@item.ApprovedStudentsQuantity" id="Telefono" type="text" class="validat black-text" readonly disabled>

                                                        <label for="Telefono">Cantidad de estudiantes promovidos</label>


                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-field col s12 m6 l3">

                                                        <input asp-for="@item.ReprovedStudentsQuantity" id="cantidadestudiantesreprobado" type="text" class="validat black-text" readonly disabled>

                                                        <label for="cantidadestudiantesreprobado">Cantidad de estudiantes reprobado</label>


                                                    </div>

                                                    <div class="input-field col s12 m6 l3">

                                                        <input asp-for="@item.DesertedStudentsQuantity" id="cantidadestudiantesretirados" type="text" class="validat black-text" readonly disabled>

                                                        <label for="cantidadestudiantesretirados">Cantidad de Estudiantes Retirados</label>


                                                    </div>

                                                    <div class="file-field input-field col s12 m6 l4">
                                                        <div class="btn">
                                                            <span>File</span>
                                                            <input name="file" type="file">
                                                        </div>
                                                        <div class="file-path-wrapper">
                                                            <input name="file" class="file-path validate" type="text" placeholder="Adjunte Reporte de calificación de la asignatura">
                                                        </div>
                                                    </div>

                                                    <div class="input-field col s12 m6 l1">

                                                       <br />

                                                        <a href="#">Ver Reporte</a>


                                                    </div>

                                                    <div class="input-field col s12 m6 l1">
                                                        <br />
                                                        <button class="teal btn-small waves-effect waves-light tooltipped" data-position="top" data-tooltip="Agregar"><i class="material-icons">arrow_forward</i></button>



                                                    </div>
                                                </div>

                                            </div>

                                        </div>



                                    </form>
                                </div>
                            </div>
                        </div>
                    </li>
                    @*<li>
                    <div class="collapsible-header"><i class="material-icons">place</i>Second</div>
                    <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="material-icons">whatshot</i>Third</div>
                    <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>*@
                </ul>
            }


        </div>

    </div>

    <div class="input-field col s12">





        <a class="red btn waves-effect waves-light" asp-area="SeguimientoDeUniversidades" asp-controller="SeguimientoDeUniversida" asp-action="Acuerdos" asp-route-tracingId="@Model.TracingId" asp-route-scholarshipProgramUniversityId="@Model.ScholarshipProgramUniversityId">

            Atras
        </a>

        <a class="teal btn waves-effect waves-light" asp-area="SeguimientoDeUniversidades" asp-controller="SeguimientoDeUniversida" asp-action="ActividadesCoCurriculares" asp-route-tracingId="@Model.TracingId" asp-route-scholarshipProgramUniversityId="@Model.ScholarshipProgramUniversityId">

            Siguiente
        </a>

    </div>

</div>

@section Scripts
{

    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/app-assets/vendors/jquery-validation/jquery.validate.js"></script>
    <script src="~/app-assets/vendors/jquery-validation/additional-methods.js"></script>
    <script src="~/app-assets/vendors/jquery-cookies/jquery.cookies.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>

    <!-- BEGIN VENDOR JS-->
    <script src="~/app-assets/js/vendors.min.js" type="text/javascript"></script>
    <!-- BEGIN VENDOR JS-->
    <!-- BEGIN PAGE VENDOR JS-->
    <!-- END PAGE VENDOR JS-->
    <!-- BEGIN THEME JS-->
    <script src="~/app-assets/js/plugins.js" type="text/javascript"></script>
    <script src="~/app-assets/js/custom/custom-script.js" type="text/javascript"></script>
    <script src="~/lib/toastr.js/toastr.min.js"></script>
    <script src="~/app-assets/js/toastr.init.js" type="text/javascript"></script>
    <script src="~/app-assets/vendors/formatter/jquery.formatter.min.js" type="text/javascript"></script>
    @*<script src="~/app-assets/js/scripts/form-elements.js"></script>
        <script src="~/app-assets/js/scripts/form-masks.js"></script>
        @*<script src="~/app-assets/js/scripts/form-layouts.js" type="text/javascript"></script>*@
    @*<script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
        <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>*@
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>
    <!-- END PAGE LEVEL JS-->
    <script>
        @*$('#descripcionTxtArea').val('@Model.Descripcion');
        M.textareaAutoResize($('#textarea2'));*@


        $(document).ready(function () {
            $('.js-example-basic-single').select2({
                placeholder: "Seleccione una Opción",
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            var elems = document.querySelectorAll('.datepicker');
            var instances = M.Datepicker.init(elems, options);
        });

        // Or with jQuery

        $(document).ready(function () {
            $('.datepicker').datepicker();
        });


        $(function () {
            $('#').change(
                function () {
                    var provinciaId = $(this).val();
                    console.log($("#HigherTitleSupportMatterId").val());

                    $.ajax({
                        url: "/Clientes/Cliente/GetMunicipios?id=" + provinciaId,
                        type: 'post',
                        contentType: 'html',
                        success: function (data) {
                            console.log(data);

                            $("#MunicipioId").empty();
                            //$("#MunicipioId").formSelect(data);
                            $("#MunicipioId").append(data);
                            //$("select").formSelect();

                        }
                    });


                }
            );
        });

    </script>
}

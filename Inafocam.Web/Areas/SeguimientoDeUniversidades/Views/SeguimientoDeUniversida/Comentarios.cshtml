@model Inafocam.Web.Areas.SeguimientoDeUniversidades.Models.CommentsIndexViewModel

@{ MensajesViewModel mensaje = new MensajesViewModel();

    if (TempData["mensaje"] != null)
    {
        mensaje = TempData.Get<MensajesViewModel>("mensaje");

    }
    var num = 1; }


@section Style
{
    <!-- BEGIN: VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/flag-icon/css/flag-icon.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/css/pages/data-tables.css">

    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/data-tables/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/data-tables/extensions/responsive/css/responsive.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/data-tables/css/select.dataTables.min.css">
    <!-- END: VENDOR CSS-->
    <!-- BEGIN: Page Level CSS-->
    <!-- BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="~/app-assets/css/custom/custom.css">
    <!-- END: Custom CSS-->
    @*<link href="~/lib/toastr.js/toastr.css" rel="stylesheet" />*@
    @*<link href="~/lib/toastr.js/toastr.min.css" rel="stylesheet" />*@
    <link href="~/lib/jquery-confirm/dist/jquery-confirm.min.css" rel="stylesheet" />

}

@* BREADCRUMB *@
@await Component.InvokeAsync("BreadcrumbComponent", new
{
    area = (string)ViewData["area"],
    controlador = (string)ViewData["controlador"],
    controller = (string)ViewData["controller"],
    vista = (string)ViewData["vista"]
})
@* END BREADCRUMB *@


@*usuarios*@
@* RAZOR *@
<!-- Page Length Options -->
<div class="12"></div>
<div class="section section-data-tables ">
    <div class="row">
        <div class="col s12">
            <div class="card">
                <div class="card-content">
                    <div class="row">

                        <div class="col s3">


                            <a class="teal mb-1 btn-small waves-effect waves-light " data-position="top" asp-area="SeguimientoDeUniversidades" asp-controller="SeguimientoDeUniversida" asp-action="ConsultarComentarios" asp-route-tracingId="@Model?.TracingId" asp-route-scholarshipProgramUniversityId="@Model?.ScholarshipProgramUniversityId">
                                <i class="material-icons"></i>
                                Consultar todos
                            </a>

                            <a class="teal mb-1 btn-small waves-effect waves-light " data-position="top" asp-area="SeguimientoDeUniversidades" asp-controller="SeguimientoDeUniversida" asp-action="ConsultarComentariosPorUsuario" asp-route-tracingId="@Model?.TracingId" asp-route-scholarshipProgramUniversityId="@Model?.ScholarshipProgramUniversityId">
                                <i class="material-icons"></i>
                                Mis comentarios
                            </a>



                        </div>

                          <div class="col s1 left">
                                    <h5 class="left">Comentarios:</h5>

                                </div> 
                        
                                <div class="col s3">
                                    <h5 class="">@Model.UniversityName</h5>

                                </div>

                                <div class="col s5">
                                    <h5 class="">@Model.ProgramNameScatCodeContractCode</h5>

                         </div>




                    </div>
                    <div class="col s12 ">

                        <div class="row">
                            <div class="grid-example col s12" style="margin:0px;"><span class="flow-text"></span></div>
                        </div>
                        <br />

                        <div class="row">
                            <div class="col s12">
                                @*@await Component.InvokeAsync("ComentariosComponent")*@

                                <table id="page-length-option" class="display">


                                    <thead>
                                        <tr>

                                            <th>Id</th>
                                            <th class="select-filter">Creador</th>
                                            <th>Pantalla</th>
                                            <th>Descripcion</th>
                                            <th>Comentario</th>
                                            <th>Fecha de Creacion</th>
                                            @*   <th></th>*@


                                        </tr>
                                    </thead>
                                    <tbody>

                                        @foreach (Comment item in Model.CommentList)
                                        {
                            <tr>

                                <td>@item?.CommentId</td>
                                <td>@item?.Usuario?.Nombre @item?.Usuario?.Apellido</td>
                                <td>@item?.CommentScreen</td>
                                <td>@item?.Description</td>
                                <td><div class="truncate">@item?.Comments</div></td>
                                <td>@item?.CreationDate</td>

                                @*<td>
            <a class="tooltipped" data-position="top" data-tooltip="Editar">
                <i class="material-icons">edit</i>
            </a>

        </td>*@
                            </tr>}






                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th>Id</th>
                                            <th>Creador</th>
                                            <th>Pantalla</th>
                                            <th>Descripcion</th>
                                            <th>Comentario</th>
                                            <th>Fecha de Creacion</th>
                                            @*<th>Acciones</th>*@

                                        </tr>
                                    </tfoot>
                                </table>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
@* END MODAL *@

@* END RAZOR *@

@section Scripts
{
    <!-- BEGIN VENDOR JS-->
    <script src="~/app-assets/js/vendors.min.js" type="text/javascript"></script>
    <!-- BEGIN VENDOR JS-->
    <!-- BEGIN PAGE VENDOR JS-->
    <script src="~/app-assets/vendors/data-tables/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="~/app-assets/vendors/data-tables/extensions/responsive/js/dataTables.responsive.min.js" type="text/javascript"></script>
    <script src="~/app-assets/vendors/data-tables/js/dataTables.select.min.js" type="text/javascript"></script>
    <!-- END PAGE VENDOR JS-->
    <!-- BEGIN THEME  JS-->
    <script src="~/app-assets/js/plugins.js" type="text/javascript"></script>
    <script src="~/app-assets/js/custom/custom-script.js" type="text/javascript"></script>
    <!-- END THEME  JS-->
    <!-- BEGIN PAGE LEVEL JS-->
    <script src="~/app-assets/js/scripts/data-tables.js" type="text/javascript"></script>
    <script src="~/app-assets/js/scripts/extra-components-sweetalert.js" type="text/javascript"></script>
    <script src="~/lib/jquery-confirm/dist/jquery-confirm.min.js"></script>
    @*<script src="~/lib/toastr.js/toastr.min.js"></script>
        <script src="~/app-assets/js/toastr.init.js" type="text/javascript"></script>*@

    <script src="/app-assets/js/scripts/advance-ui-modals.js"></script>


    <script>





        $(document).ready(function() {
            $('.tooltipped').tooltip();

        });

        if ("@mensaje.Tipo".length > 0) {
            $.confirm({
                title: '@mensaje.Titulo',
                content: '@mensaje.Texto',
                type: '@mensaje.Tipo',
                typeAnimated: true,
                boxWidth: '500px',
                autoClose: 'cerrar|9000',
                useBootstrap: false,
                buttons: {
                    cerrar:{
                        text: "Cerrar",
                        action: function () { }
                    }
                },
                onClose: function () {
                    // before the modal is hidden.
                    $.ajax({
                        type: 'get',
                        url: '/home/ClearTempData',
                        success: function() {

                        }
                    });
                }
            });

        }



        //// Setup - add a text input to each footer cell
        //$('#example thead th').each(function () {
        //    var title = $('#example thead th').eq($(this).index()).text();
        //    $(this).html('<input type="text" placeholder="Buscar ' + title + '" />');
        //});

        //// DataTable
        //var table = $('#example').DataTable();

        //// Apply the filter
        //table.columns().every(function () {
        //    var column = this;

        //    $('input', this.footer()).on('keyup change', function () {
        //        column
        //            .search(this.value)
        //            .draw();
        //    });
        //});

        //var table = $('#example').DataTable({
        //    orderCellsTop: false,
        //    sor
        //    fixedHeader: true,

        //});


           // A D D  LOCALE==================================
               $(document).ready(function () {
            // Setup - add a text input to each footer cell
              $('#example thead tr').clone(true).appendTo('#example thead');
            let ths = $('#example thead tr:eq(1) th');

            ths.each(function (i) {
                var title = $(this).text();
                console.log(title.length);
                if (title.length > 0) {

                    $(this).html('<input type="text" placeholder="Buscar ' + title + '" />');

                $('input', this).on('keyup change', function () {
                    if (table.column(i).search() !== this.value) {
                        table
                            .column(i)
                            .search(this.value)
                            .draw();
                    }
                });
                }

            });

            var table = $('#example').DataTable({
                orderCellsTop: true,
                fixedHeader: true,
                responsive: true,
                language: info
            });

               });


          var info = {
                "sProcessing": "Procesando...",
                "sLengthMenu": "Mostrar _MENU_ registros",
                "sZeroRecords": "No se encontraron resultados",
                "sEmptyTable": "Ningún dato disponible en esta tabla",
                "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                "sInfoPostFix": "",
                "sSearch": "Buscar:",
                "sUrl": "",
                "sInfoThousands": ",",
                "sLoadingRecords": "Cargando...",
                "oPaginate": {
                    "sFirst": "Primero",
                    "sLast": "Último",
                    "sNext": "Siguiente",
                    "sPrevious": "Anterior"
                },
                "oAria": {
                    "sSortAscending": ":Activar para ordenar la columna de manera ascendente",
                    "sSortDescending": ":Activar para ordenar la columna de manera descendente"
                },
                "buttons": {
                    "copy": "Copiar",
                    "colvis": "Visibilidad"
                }

            };
    </script>

}